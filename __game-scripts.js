var Spawner=pc.createScript("spawner");Spawner.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this)},Spawner.prototype.update=function(o){},Spawner.prototype.onMouseMove=function(o){console.log("onMouseMove")},Spawner.prototype.onMouseDown=function(o){o.button===pc.MOUSEBUTTON_LEFT&&console.log("MOUSEBUTTON_LEFT"),o.button===pc.MOUSEBUTTON_RIGHT&&console.log("MOUSEBUTTON_RIGHT")};var Uihandler=pc.createScript("uihandler");Uihandler.attributes.add("testButton",{type:"entity"}),Uihandler.prototype.initialize=function(){this.testButton.element.on("mousedown",this.onClickTestButton,this)},Uihandler.prototype.onClickTestButton=function(t){t.stopPropagation(),console.log("Box  click."+t);var o=this.app.assets.get(59384522).resource.instantiate();o.setPosition(pc.math.random(-5,5),5,pc.math.random(-5,5)),this.app.root.addChild(o)};var DestroyTrigger=pc.createScript("destroyTrigger");DestroyTrigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.onTriggerEnter,this)},DestroyTrigger.prototype.onTriggerEnter=function(r){r.destroy()};var Meshbuild=pc.createScript("meshBuild");Meshbuild.prototype.initialize=function(){var t=this.app;const createMorphTarget=function(t,e,a,n,s,o){const h=new Float32Array(t.length);let r,c,i;for(c=0;c<t.length;c+=3)p=t[c],l=t[c+1],d=t[c+2],M=n,m=s,u=o,r=Math.abs(M*p+m*l+u*d)/Math.sqrt(M*M+m*m+u*u),i=pc.math.clamp(r,0,.2),i=pc.math.smoothstep(0,.2,r),i=1-i,h[c]=t[c]+e[c]*i,h[c+1]=t[c+1]+e[c+1]*i,h[c+2]=t[c+2]+e[c+2]*i;var p,l,d,M,m,u;const g=new Float32Array(pc.calculateNormals(h,a));for(c=0;c<g.length;c++)h[c]-=t[c],g[c]-=e[c];return new pc.MorphTarget({deltaPositions:h,deltaNormals:g})},createMorphInstance=function(e,a,n){const s=pc.createSphere(this.pc.graphicsDevice,{latitudeBands:200,longitudeBands:200}),o=[],h=[],r=[];s.getPositions(o),s.getNormals(h),s.getIndices(r);const c=[];c.push(createMorphTarget(o,h,r,1,0,0)),c.push(createMorphTarget(o,h,r,0,1,0)),c.push(createMorphTarget(o,h,r,0,0,1)),s.morph=new pc.Morph(c,this.pc.graphicsDevice);const i=new pc.StandardMaterial,p=new pc.MeshInstance(s,i),l=new pc.MorphInstance(s.morph);p.morphInstance=l;const d=new pc.Entity;return d.setLocalPosition(e,a,n),t.root.addChild(d),d.addComponent("render",{material:i,meshInstances:[p]}),l},e=[];for(let t=0;t<3;t++)e.push(createMorphInstance(6*Math.random()-3,6*Math.random()-3,6*Math.random()-3));let a=0;this.app.on("update",(function(t){a+=t;for(let t=0;t<e.length;t++)e[t].setWeight(0,Math.abs(Math.sin(a+t))),e[t].setWeight(1,Math.abs(Math.sin(.3*a+t))),e[t].setWeight(2,Math.abs(Math.sin(.7*a+t)))}))};